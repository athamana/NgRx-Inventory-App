(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{VLs4:function(e,t,r){var s,a,o;!function(c){if("object"==typeof e.exports){var n=c(0,t);void 0!==n&&(e.exports=n)}else a=[r,t],void 0===(o="function"==typeof(s=c)?s.apply(t,a):s)||(e.exports=o)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;t.default=["de",[["AM","PM"],r,r],r,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],r,r],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} 'um' {0}",r],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],CUC:[r,"Cub$"],DEM:["DM"],FKP:[r,"Fl\xa3"],GNF:[r,"F.G."],KMF:[r,"FC"],RON:[r,"L"],RWF:[r,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[r,"K"]},"ltr",function(e){var t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}]})},vfUp:function(e,t,r){"use strict";r.r(t),r.d(t,"CustomersModule",function(){return me});var s={};r.r(s),r.d(s,"setCurrentCustomer",function(){return m}),r.d(s,"clearCurrentCustomer",function(){return d}),r.d(s,"initializeCurrentCustomer",function(){return C}),r.d(s,"loadCustomers",function(){return g}),r.d(s,"updateCustomer",function(){return h}),r.d(s,"createCustomer",function(){return O}),r.d(s,"deleteCustomer",function(){return f});var a={};r.r(a),r.d(a,"loadCustomersSuccess",function(){return S}),r.d(a,"loadCustomersFailure",function(){return j}),r.d(a,"updateCustomerSuccess",function(){return y}),r.d(a,"updateCustomerFailure",function(){return v}),r.d(a,"createCustomerSuccess",function(){return M}),r.d(a,"createCustomerFailure",function(){return T}),r.d(a,"deleteCustomerSuccess",function(){return F}),r.d(a,"deleteCustomerFailure",function(){return w});var o=r("fXoL"),c=r("tyNb"),n=r("PCNd"),u=r("ofXK"),i=r("VLs4"),l=r.n(i),b=r("l7P3"),p=r("9jGm");const m=Object(b.n)("[Customer Page] Set Current Customer",Object(b.s)()),d=Object(b.n)("[Customer Page] Clear Current Customer"),C=Object(b.n)("[Customer Page] Initialize Current Customer"),g=Object(b.n)("[Customer Page] Load"),h=Object(b.n)("[Customer Page] Update Customer",Object(b.s)()),O=Object(b.n)("[Customer Page] Create Customer",Object(b.s)()),f=Object(b.n)("[Customer Page] Delete Customer",Object(b.s)()),S=Object(b.n)("[Customer API] Load Success",Object(b.s)()),j=Object(b.n)("[Customer API] Load Fail",Object(b.s)()),y=Object(b.n)("[Customer API] Update Customer Success",Object(b.s)()),v=Object(b.n)("[Customer API] Update Customer Fail",Object(b.s)()),M=Object(b.n)("[Customer API] Create Customer Success",Object(b.s)()),T=Object(b.n)("[Customer API] Create Customer Fail",Object(b.s)()),F=Object(b.n)("[Customer API] Delete Customer Success",Object(b.s)()),w=Object(b.n)("[Customer API] Delete Customer Fail",Object(b.s)()),P=Object(b.p)({currentCustomerId:null,customers:[],error:""},Object(b.r)(s.setCurrentCustomer,(e,t)=>Object.assign(Object.assign({},e),{currentCustomerId:t.currentCustomerId})),Object(b.r)(s.clearCurrentCustomer,e=>Object.assign(Object.assign({},e),{currentCustomerId:null})),Object(b.r)(s.initializeCurrentCustomer,e=>Object.assign(Object.assign({},e),{currentCustomerId:0})),Object(b.r)(a.loadCustomersSuccess,(e,t)=>Object.assign(Object.assign({},e),{customers:t.customers,error:""})),Object(b.r)(a.loadCustomersFailure,(e,t)=>Object.assign(Object.assign({},e),{customers:[],error:t.error})),Object(b.r)(a.updateCustomerSuccess,(e,t)=>{const r=e.customers.map(e=>t.customer.id===e.id?t.customer:e);return Object.assign(Object.assign({},e),{customers:r,currentCustomerId:t.customer.id,error:""})}),Object(b.r)(a.updateCustomerFailure,(e,t)=>Object.assign(Object.assign({},e),{error:t.error})),Object(b.r)(a.createCustomerSuccess,(e,t)=>Object.assign(Object.assign({},e),{customers:[...e.customers,t.customer],currentCustomerId:t.customer.id,error:""})),Object(b.r)(a.createCustomerFailure,(e,t)=>Object.assign(Object.assign({},e),{error:t.error})),Object(b.r)(a.deleteCustomerSuccess,(e,t)=>Object.assign(Object.assign({},e),{customers:e.customers.filter(e=>e.id!==t.customerId),currentCustomerId:null,error:""})),Object(b.r)(a.deleteCustomerFailure,(e,t)=>Object.assign(Object.assign({},e),{error:t.error})));var E=r("5+tZ"),I=r("lJxs"),D=r("JIr8"),x=r("bOdf"),A=r("vkgz"),$=r("LRne"),k=r("tk/3"),J=r("z6cu");let z=(()=>{class e{constructor(e){this.http=e,this.customersUrl="api/customers"}getCustomers(){return this.http.get(this.customersUrl).pipe(Object(D.a)(this.handleError))}createCustomer(e){const t=new k.d({"Content-Type":"application/json"}),r=Object.assign(Object.assign({},e),{id:null});return this.http.post(this.customersUrl,r,{headers:t}).pipe(Object(D.a)(this.handleError))}deleteCustomer(e){const t=new k.d({"Content-Type":"application/json"});return this.http.delete(`${this.customersUrl}/${e}`,{headers:t}).pipe(Object(D.a)(this.handleError))}updateCustomer(e){const t=new k.d({"Content-Type":"application/json"});return this.http.put(`${this.customersUrl}/${e.id}`,e,{headers:t}).pipe(Object(I.a)(()=>e),Object(D.a)(this.handleError))}handleError(e){let t;return t=e.error instanceof ErrorEvent?"An error occurred: "+e.error.message:`Backend returned code ${e.status}: ${e.body.error}`,console.error(e),Object(J.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(k.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var U=r("7zfz");let N=(()=>{class e{constructor(e,t,r){this.actions$=e,this.customerService=t,this.messageService=r,this.loadCustomers$=Object(p.c)(()=>this.actions$.pipe(Object(p.d)(s.loadCustomers),Object(E.a)(()=>this.customerService.getCustomers().pipe(Object(I.a)(e=>a.loadCustomersSuccess({customers:e})),Object(D.a)(e=>Object($.a)(a.loadCustomersFailure({error:e}))))))),this.updateCustomer$=Object(p.c)(()=>this.actions$.pipe(Object(p.d)(s.updateCustomer),Object(x.a)(e=>this.customerService.updateCustomer(e.customer).pipe(Object(A.a)(e=>this.messageService.add({severity:"success",summary:"Success",detail:e.name+" updated successfully"})),Object(I.a)(e=>a.updateCustomerSuccess({customer:e})),Object(D.a)(e=>Object($.a)(a.updateCustomerFailure({error:e}))))))),this.createCustomer$=Object(p.c)(()=>this.actions$.pipe(Object(p.d)(s.createCustomer),Object(x.a)(e=>this.customerService.createCustomer(e.customer).pipe(Object(A.a)(e=>this.messageService.add({severity:"success",summary:"Success",detail:e.name+" created successfully"})),Object(I.a)(e=>a.createCustomerSuccess({customer:e})),Object(D.a)(e=>Object($.a)(a.createCustomerFailure({error:e}))))))),this.deleteCustomer$=Object(p.c)(()=>this.actions$.pipe(Object(p.d)(s.deleteCustomer),Object(E.a)(e=>this.customerService.deleteCustomer(e.customerId).pipe(Object(A.a)(e=>this.messageService.add({severity:"success",summary:"Success",detail:"Deleted successfully"})),Object(I.a)(()=>a.deleteCustomerSuccess({customerId:e.customerId})),Object(D.a)(e=>Object($.a)(a.deleteCustomerFailure({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(p.a),o.Xb(z),o.Xb(U.f))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac}),e})();var _=r("ThbA");const H=Object(b.o)("customers"),R=Object(b.q)(H,e=>e.currentCustomerId),G=(Object(b.q)(H,R,(e,t)=>0===t?{id:0,name:"",country:null,company:null,lifetimeValue:0}:t?e.customers.find(e=>e.id===t):null),Object(b.q)(H,e=>[...e.customers])),L=Object(b.q)(H,e=>e.error),V=[{name:"Greece",code:"GR"},{name:"Brazil",code:"BR"},{name:"Switzerland",code:"CH"},{name:"Argentina",code:"AR"},{name:"Germany",code:"DE"},{name:"Norway",code:"NO"},{name:"Czech Republic",code:"CZ"},{name:"United Kingdom",code:"GB"},{name:"Cyprus",code:"CY"},{name:"Finland",code:"FI"}],B=[{label:"Unqualified",value:"unqualified"},{label:"Qualified",value:"qualified"},{label:"New",value:"new"},{label:"Negotiation",value:"negotiation"},{label:"Renewal",value:"renewal"},{label:"Proposal",value:"proposal"}];var X=r("rEr+"),q=r("dts7"),K=r("7kUa"),W=r("lVkt"),Z=r("arFO"),Q=r("jIHw");const Y=["dt"];function ee(e,t){if(1&e&&(o.Tb(0,"div"),o.Ec(1),o.Sb()),2&e){const e=o.dc(2);o.Cb(1),o.Fc(e.errorMessage)}}function te(e,t){1&e&&(o.Tb(0,"p-messages",7),o.Cc(1,ee,2,1,"ng-template",8),o.Sb())}function re(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",9),o.Ec(1," List of Customers "),o.Tb(2,"span",10),o.Ob(3,"i",11),o.Tb(4,"input",12),o.ac("input",function(t){return o.vc(e),o.dc(),o.uc(2).filterGlobal(t.target.value,"contains")}),o.Sb(),o.Sb(),o.Sb()}}function se(e,t){if(1&e&&(o.Tb(0,"div",31),o.Ob(1,"img",32),o.Tb(2,"span"),o.Ec(3),o.Sb(),o.Sb()),2&e){const e=t.$implicit,r=o.dc(2);o.Cb(1),o.kc("src",r.getCountryFlagUrl(e.code),o.xc),o.Cb(2),o.Fc(e.name)}}function ae(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr"),o.Ob(1,"th",13),o.Tb(2,"th",14),o.Ec(3," Name "),o.Ob(4,"p-sortIcon",15),o.Sb(),o.Tb(5,"th",16),o.Ec(6," Country "),o.Ob(7,"p-sortIcon",17),o.Sb(),o.Tb(8,"th",18),o.Ec(9," Company "),o.Ob(10,"p-sortIcon",19),o.Sb(),o.Tb(11,"th",20),o.Ec(12," Status "),o.Ob(13,"p-sortIcon",21),o.Sb(),o.Tb(14,"th",22),o.Ec(15," Lifetime Value "),o.Ob(16,"p-sortIcon",23),o.Sb(),o.Ob(17,"th",24),o.Sb(),o.Tb(18,"tr"),o.Ob(19,"th"),o.Tb(20,"th"),o.Tb(21,"input",25),o.ac("input",function(t){return o.vc(e),o.dc(),o.uc(2).filter(t.target.value,"name","startsWith")}),o.Sb(),o.Sb(),o.Tb(22,"th"),o.Tb(23,"p-multiSelect",26),o.ac("onChange",function(t){return o.vc(e),o.dc().onCountryChange(t)}),o.Cc(24,se,4,2,"ng-template",27),o.Sb(),o.Sb(),o.Tb(25,"th"),o.Tb(26,"input",28),o.ac("input",function(t){return o.vc(e),o.dc(),o.uc(2).filter(t.target.value,"company","contains")}),o.Sb(),o.Sb(),o.Tb(27,"th"),o.Tb(28,"p-dropdown",29),o.ac("onChange",function(t){return o.vc(e),o.dc(),o.uc(2).filter(t.value,"status","equals")}),o.Sb(),o.Sb(),o.Tb(29,"th"),o.Tb(30,"input",30),o.ac("input",function(t){return o.vc(e),o.dc(),o.uc(2).filter(t.target.value,"lifetimeValue","startsWith")}),o.Sb(),o.Sb(),o.Ob(31,"th"),o.Sb()}if(2&e){const e=o.dc();o.Cb(23),o.kc("options",e.countries),o.Cb(5),o.kc("options",e.statuses)("showClear",!0)}}const oe=function(e){return[e,"EUR","symbol",void 0,"de-DE"]};function ce(e,t){if(1&e){const e=o.Ub();o.Tb(0,"tr",33),o.Ob(1,"td"),o.Tb(2,"td"),o.Tb(3,"span",34),o.Ec(4,"Name"),o.Sb(),o.Tb(5,"div",31),o.Ob(6,"img",35),o.Tb(7,"span",36),o.Ec(8),o.Sb(),o.Sb(),o.Sb(),o.Tb(9,"td"),o.Tb(10,"span",34),o.Ec(11,"Country"),o.Sb(),o.Tb(12,"div",31),o.Ob(13,"img",37),o.Tb(14,"span",38),o.Ec(15),o.Sb(),o.Sb(),o.Sb(),o.Tb(16,"td"),o.Tb(17,"span",34),o.Ec(18,"Company"),o.Sb(),o.Tb(19,"span",38),o.Ec(20),o.Sb(),o.Sb(),o.Tb(21,"td"),o.Tb(22,"span",34),o.Ec(23,"Status"),o.Sb(),o.Tb(24,"span"),o.Ec(25),o.Sb(),o.Sb(),o.Tb(26,"td"),o.Tb(27,"span",34),o.Ec(28,"Lifetime Value"),o.Sb(),o.Tb(29,"span",38),o.Ec(30),o.ec(31,"currency"),o.Sb(),o.Sb(),o.Tb(32,"td"),o.Tb(33,"button",39),o.ac("click",function(){o.vc(e);const r=t.$implicit;return o.dc().editCustomer(r)}),o.Sb(),o.Tb(34,"button",40),o.ac("click",function(){o.vc(e);const r=t.$implicit;return o.dc().deleteCustomer(r)}),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,r=o.dc();o.Cb(6),o.kc("alt",e.name)("src",e.image,o.xc),o.Cb(2),o.Fc(e.name),o.Cb(5),o.kc("alt",e.country.name)("src",r.getCountryFlagUrl(e.country.code),o.xc),o.Cb(2),o.Fc(e.country.name),o.Cb(5),o.Fc(e.company),o.Cb(4),o.Eb("customer-badge status-"+e.status),o.Cb(1),o.Fc(e.status),o.Cb(5),o.Fc(o.hc(31,11,o.mc(17,oe,e.lifetimeValue)))}}function ne(e,t){1&e&&(o.Tb(0,"tr"),o.Tb(1,"td",41),o.Ec(2,"No customers found."),o.Sb(),o.Sb())}const ue=function(e){return[5,e]},ie=function(){return["name","country.name","representative.name","status"]};let le=(()=>{class e{constructor(){this.pageTitle="Customers",this.countries=V,this.statuses=B}onCountryChange(e){this.table.filter(e.value,"country.name","in")}getCountryFlagUrl(e){return`https://catamphetamine.gitlab.io/country-flag-icons/1x1/${e}.svg`}editCustomer(e){}deleteCustomer(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-customer-table"]],viewQuery:function(e,t){if(1&e&&o.Hc(Y,!0),2&e){let e;o.tc(e=o.bc())&&(t.table=e.first)}},inputs:{errorMessage:"errorMessage",customers:"customers"},decls:7,vars:12,consts:[["severity","error",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["severity","error"],["pTemplate",""],[1,"table-header"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",3,"input"],[2,"width","3rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","country.name"],["field","country.name"],["pSortableColumn","company"],["field","company"],["pSortableColumn","status"],["field","status"],["pSortableColumn","lifetimeValue"],["field","lifetimeValue"],[2,"width","8rem"],["pInputText","","type","text","placeholder","Search by Name",1,"p-column-filter",3,"input"],["placeholder","Select Country","styleClass","p-column-filter","optionValue","name","optionLabel","name","filterBy","name",3,"options","onChange"],["pTemplate","item"],["pInputText","","type","text","placeholder","Search by Company",1,"p-column-filter",3,"input"],["styleClass","p-column-filter","placeholder","Select a Status",3,"options","showClear","onChange"],["pInputText","","type","text","placeholder","Search by Value \u20ac",1,"p-column-filter",3,"input"],[1,"p-d-flex","p-ai-center"],[2,"width","20px","margin-right","3px",3,"src"],[1,"p-selectable-row"],[1,"p-column-title"],[1,"avatar",3,"alt","src"],[1,"p-ml-2"],[1,"flag",3,"alt","src"],[1,"image-text"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],["colspan","8"]],template:function(e,t){1&e&&(o.Cc(0,te,2,0,"p-messages",0),o.Tb(1,"p-table",1,2),o.Cc(3,re,5,0,"ng-template",3),o.Cc(4,ae,32,3,"ng-template",4),o.Cc(5,ce,35,19,"ng-template",5),o.Cc(6,ne,3,0,"ng-template",6),o.Sb()),2&e&&(o.kc("ngIf",t.errorMessage),o.Cb(1),o.kc("value",t.customers)("rowHover",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",o.mc(9,ue,t.customers.length))("paginator",!0)("filterDelay",0)("globalFilterFields",o.lc(11,ie)))},directives:[u.l,X.c,U.h,q.a,K.a,X.b,X.a,W.a,Z.a,Q.a],pipes:[u.d],styles:["[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between;flex-wrap:wrap}[_nghost-%COMP%]     .p-multiselect{min-width:15rem}[_nghost-%COMP%]     .avatar{vertical-align:middle;width:32px;height:32px;border-radius:50%}[_nghost-%COMP%]     .flag{vertical-align:middle;width:30px;height:25px;border-radius:20%;margin-right:5px}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}}"],changeDetection:0}),e})(),be=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.customers$=this.store.select(G),this.errorMessage$=this.store.select(L),this.store.dispatch(s.loadCustomers())}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(b.h))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-customer-shell"]],decls:3,vars:6,consts:[[3,"customers","errorMessage"]],template:function(e,t){1&e&&(o.Ob(0,"app-customer-table",0),o.ec(1,"async"),o.ec(2,"async")),2&e&&o.kc("customers",o.fc(1,2,t.customers$))("errorMessage",o.fc(2,4,t.errorMessage$))},directives:[le],pipes:[u.b],styles:[""]}),e})();Object(u.v)(l.a);const pe=[{path:"",component:be}];let me=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},providers:[{provide:o.v,useValue:"de-DE"}],imports:[[n.a,b.j.forFeature("customers",P),p.b.forFeature([N]),_.a,c.e.forChild(pe)]]}),e})()}}]);